(function(e){function t(t){for(var r,i,o=t[0],c=t[1],u=t[2],l=0,d=[];l<o.length;l++)i=o[l],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&d.push(n[i][0]),n[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);m&&m(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,i=1;i<a.length;i++){var o=a[i];0!==n[o]&&(r=!1)}r&&(s.splice(t--,1),e=c(c.s=a[0]))}return e}var r={},i={app:0},n={app:0},s=[];function o(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-07f8605e":"2705212d","chunk-0d3afb33":"c1628058","chunk-2d0c06a1":"c6643e9e","chunk-2d0d6b8e":"d600445c","chunk-2d0da534":"2b8f359d","chunk-940c063c":"ba592d1b","chunk-acba138e":"17af0903"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(e){var t=[],a={"chunk-07f8605e":1,"chunk-0d3afb33":1,"chunk-940c063c":1,"chunk-acba138e":1};i[e]?t.push(i[e]):0!==i[e]&&a[e]&&t.push(i[e]=new Promise((function(t,a){for(var r="css/"+({}[e]||e)+"."+{"chunk-07f8605e":"ec0caa04","chunk-0d3afb33":"15ec6b88","chunk-2d0c06a1":"31d6cfe0","chunk-2d0d6b8e":"31d6cfe0","chunk-2d0da534":"31d6cfe0","chunk-940c063c":"981e89a7","chunk-acba138e":"6fa96a87"}[e]+".css",n=c.p+r,s=document.getElementsByTagName("link"),o=0;o<s.length;o++){var u=s[o],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===r||l===n))return t()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){u=d[o],l=u.getAttribute("data-href");if(l===r||l===n)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var r=t&&t.target&&t.target.src||n,s=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=r,delete i[e],m.parentNode.removeChild(m),a(s)},m.href=n;var p=document.getElementsByTagName("head")[0];p.appendChild(m)})).then((function(){i[e]=0})));var r=n[e];if(0!==r)if(r)t.push(r[2]);else{var s=new Promise((function(t,a){r=n[e]=[t,a]}));t.push(r[2]=s);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=o(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(m);var a=n[e];if(0!==a){if(a){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",d.name="ChunkLoadError",d.type=r,d.request=i,a[1](d)}n[e]=void 0}};var m=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(a,r,function(t){return e[t]}.bind(null,r));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var m=l;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},1182:function(e,t,a){},"1dea":function(e,t,a){"use strict";var r=a("a3d5"),i=a.n(r);i.a},2857:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return n})),a.d(t,"d",(function(){return s}));var r=o(["Afghanistan","Åland Islands","Albania","Algeria","American Samoa","Andorra","Angola","Anguilla","Antarctica","Antigua and Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia (Plurinational State of)","Bonaire, Sint Eustatius and Saba","Bosnia and Herzegovina","Botswana","Bouvet Island","Brazil","British Indian Ocean Territory","United States Minor Outlying Islands","Virgin Islands (British)","Virgin Islands (U.S.)","Brunei Darussalam","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cabo Verde","Cayman Islands","Central African Republic","Chad","Chile","China","Christmas Island","Cocos (Keeling) Islands","Colombia","Comoros","Congo","Congo (Democratic Republic of the)","Cook Islands","Costa Rica","Croatia","Cuba","Curaçao","Cyprus","Czech Republic","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Falkland Islands (Malvinas)","Faroe Islands","Fiji","Finland","France","French Guiana","French Polynesia","French Southern Territories","Gabon","Gambia","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guadeloupe","Guam","Guatemala","Guernsey","Guinea","Guinea-Bissau","Guyana","Haiti","Heard Island and McDonald Islands","Holy See","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Côte d'Ivoire","Iran (Islamic Republic of)","Iraq","Ireland","Isle of Man","Israel","Italy","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Lao People's Democratic Republic","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macao","Macedonia (the former Yugoslav Republic of)","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Martinique","Mauritania","Mauritius","Mayotte","Mexico","Micronesia (Federated States of)","Moldova (Republic of)","Monaco","Mongolia","Montenegro","Montserrat","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","Niue","Norfolk Island","Korea (Democratic People's Republic of)","Northern Mariana Islands","Norway","Oman","Pakistan","Palau","Palestine, State of","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Pitcairn","Poland","Portugal","Puerto Rico","Qatar","Republic of Kosovo","Réunion","Romania","Russian Federation","Rwanda","Saint Barthélemy","Saint Helena, Ascension and Tristan da Cunha","Saint Kitts and Nevis","Saint Lucia","Saint Martin (French part)","Saint Pierre and Miquelon","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Sint Maarten (Dutch part)","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Georgia and the South Sandwich Islands","Korea (Republic of)","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Svalbard and Jan Mayen","Swaziland","Sweden","Switzerland","Syrian Arab Republic","Taiwan","Tajikistan","Tanzania, United Republic of","Thailand","Timor-Leste","Togo","Tokelau","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Turks and Caicos Islands","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom of Great Britain and Northern Ireland","United States of America","Uruguay","Uzbekistan","Vanuatu","Venezuela (Bolivarian Republic of)","Viet Nam","Wallis and Futuna","Western Sahara","Yemen","Zambia","Zimbabwe"]),i=o(["African","Asian","American","British","Cajun","Caribbean","Chinese","Eastern","European","European","French","German","Greek","Indian","Irish","Italian","Japanese","Jewish","Korean","Latin","American","Mediterranean","Mexican","Middle","Eastern","Nordic","Southern","Spanish","Thai","Vietnamese"]),n=o(["Gluten Free","Ketogenic","Vegetarian","Lacto-Vegetarian","Ovo-Vegetarian","Vegan","Pescetarian","Paleo","Primal","Low FODMAP","Whole30"]),s=o(["Dairy","Egg","Gluten","Grain","Peanut","Seafood","Sesame","Shellfish","Soy","Sulfite","Tree","Nut","Wheat"]);function o(e){for(var t=[],a=0;a<e.length;a++){var r={text:e[a],value:e[a]};t.push(r)}return t}},2952:function(e,t,a){e.exports=a.p+"img/Veg-logo.4c0dd495.png"},"32f4":function(e,t,a){e.exports=a.p+"img/non-Vegan-logo.4cef1e06.png"},"34ba":function(e,t,a){"use strict";var r=a("1182"),i=a.n(r);i.a},3956:function(e,t,a){},"3ef6":function(e,t,a){"use strict";var r=a("98d8"),i=a.n(r);i.a},"55f9":function(e,t,a){"use strict";var r=a("3956"),i=a.n(r);i.a},"56d7":function(e,t,a){"use strict";a.r(t);a("4160"),a("d3b7"),a("159b"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("HeaderBar",{attrs:{id:"header"}}),a("router-view",{attrs:{data:e.data}})],1)},n=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"nav"}},[a("b-navbar",{staticClass:"bg-light font-weight-bold",attrs:{toggleable:"lg",type:"dark",variant:"info"}},[a("b-navbar-nav",{staticClass:"mx-4 my-auto"},[a("b-nav-text",[a("router-link",{staticClass:"text-dark",attrs:{to:{name:"main"}}},[e._v("Home")])],1)],1),a("b-navbar-nav",{staticClass:"mx-4 my-auto"},[a("b-nav-text",[a("router-link",{staticClass:"text-dark",attrs:{to:{name:"search"}}},[e._v("Search")])],1)],1),a("b-navbar-nav",{staticClass:"mx-4 my-auto"},[a("b-nav-text",[a("router-link",{staticClass:"text-dark",attrs:{to:{name:"about"}}},[e._v("About")])],1)],1),e.$root.store.username?a("b-navbar-nav",{staticClass:"mx-4 my-auto"},[a("b-nav-text",[a("router-link",{staticClass:"text-dark",attrs:{to:{name:"favorites"}}},[e._v("Favorites")])],1)],1):e._e(),e.$root.store.username?a("b-navbar-nav",[a("b-button",{attrs:{variant:"success"},on:{click:e.openModal}},[e._v("New Recipe")]),a("b-modal",{attrs:{id:"RecipeModal","ok-only":"","ok-title":"Submit"},on:{ok:function(t){return t.preventDefault(),e.CreateRecipe(t)},mouseout:e.Reset},model:{value:e.modalShow,callback:function(t){e.modalShow=t},expression:"modalShow"}},[a("h2",[e._v("Create New Recipe !")]),a("b-form-group",{attrs:{id:"recipename-group","label-cols-sm":"3",label:"Recipe Name:"}},[a("b-form-input",{attrs:{id:"recipe_name",type:"text",state:e.validateState("recipe_name")},model:{value:e.form.recipe_name,callback:function(t){e.$set(e.form,"recipe_name",t)},expression:"form.recipe_name"}}),e.$v.form.recipe_name.required?e._e():a("b-form-invalid-feedback",[e._v("Recipe Name is required")])],1),a("b-form-group",{attrs:{id:"recipeimage-group","label-cols-sm":"3",label:"Recipe Image:"}},[a("b-form-file",{attrs:{id:"recipe_image",state:e.validateState("image"),placeholder:"Choose a file or drop it here..."},model:{value:e.form.image,callback:function(t){e.$set(e.form,"image",t)},expression:"form.image"}}),e.$v.form.image.required?e._e():a("b-form-invalid-feedback",[e._v("Image is required")])],1),a("b-form-group",{attrs:{id:"time-group","label-cols-sm":"3",label:"Preparation Time:(In Minutes)"}},[a("b-form-input",{attrs:{id:"time",type:"number",min:"0",state:e.validateState("time")},model:{value:e.form.time,callback:function(t){e.$set(e.form,"time",t)},expression:"form.time"}}),e.$v.form.time.required?e._e():a("b-form-invalid-feedback",[e._v("Preperation Time is required")])],1),a("b-form-group",{attrs:{id:"portions_input",label:"Portions:","label-cols-sm":"3"}},[a("b-form-input",{attrs:{id:"portions",type:"number",min:"0",max:"10",state:e.validateState("portions")},model:{value:e.form.portions,callback:function(t){e.$set(e.form,"portions",t)},expression:"form.portions"}}),e.$v.form.portions.required?e._e():a("b-form-invalid-feedback",[e._v("Portions is required")])],1),a("b-form-group",{attrs:{label:"Vegetarian:","label-cols-sm":"3"}},[a("b-form-select",{attrs:{id:"veget_select",options:e.options_Bool,state:e.validateState("isVeget")},model:{value:e.form.isVeget,callback:function(t){e.$set(e.form,"isVeget",t)},expression:"form.isVeget"}}),e.$v.form.isVeget.required?e._e():a("b-form-invalid-feedback",[e._v("isVeget is required")])],1),a("b-form-group",{attrs:{label:"Vegan:","label-cols-sm":"3"}},[a("b-form-select",{attrs:{id:"vegan_select",options:e.options_Bool,state:e.validateState("isVegan")},model:{value:e.form.isVegan,callback:function(t){e.$set(e.form,"isVegan",t)},expression:"form.isVegan"}}),e.$v.form.isVegan.required?e._e():a("b-form-invalid-feedback",[e._v("isVegan is required")])],1),a("b-form-group",{attrs:{label:"Gluten Free:","label-cols-sm":"3"}},[a("b-form-select",{attrs:{id:"gluten_select",options:e.options_Bool,state:e.validateState("isGfree")},model:{value:e.form.isGfree,callback:function(t){e.$set(e.form,"isGfree",t)},expression:"form.isGfree"}}),e.$v.form.isGfree.required?e._e():a("b-form-invalid-feedback",[e._v("isGfree is required")])],1),a("b-form-group",{attrs:{id:"likes_input",label:"Likes:","label-cols-sm":"3",state:e.validateState("Likes")}},[a("b-form-input",{attrs:{id:"time",type:"number",min:"0"},model:{value:e.form.Likes,callback:function(t){e.$set(e.form,"Likes",t)},expression:"form.Likes"}})],1),a("b-form-group",{attrs:{id:"cuisine_input",label:"Cuisine:","label-cols-sm":"3"}},[a("b-form-select",{attrs:{id:"cuisine_selection",options:e.cuisine_options,state:e.validateState("cuisine")},model:{value:e.form.cuisine,callback:function(t){e.$set(e.form,"cuisine",t)},expression:"form.cuisine"}}),e.$v.form.cuisine.required?e._e():a("b-form-invalid-feedback",[e._v("cuisine is required")])],1),a("b-form-group",{attrs:{id:"intolerances_input",label:"Intolerance:","label-cols-sm":"3"}},[a("b-form-select",{attrs:{id:"Intolerances_selection",options:e.intolerances_options,state:e.validateState("intolerance")},model:{value:e.form.intolerance,callback:function(t){e.$set(e.form,"intolerance",t)},expression:"form.intolerance"}}),e.$v.form.intolerance.required?e._e():a("b-form-invalid-feedback",[e._v("intolerance is required")])],1),a("b-form-group",{attrs:{id:"Ingredients_input",label:"Ingredients:","label-cols-sm":"3"}},[a("b-form-input",{attrs:{placeholder:"ingredient name",id:"ingredient-name"},model:{value:e.ingredientName,callback:function(t){e.ingredientName=t},expression:"ingredientName"}}),a("b-form-input",{attrs:{placeholder:"ingredient amount",type:"number",min:"0",id:"ingredient-amount"},model:{value:e.ingredientAmount,callback:function(t){e.ingredientAmount=t},expression:"ingredientAmount"}}),a("b-form-input",{attrs:{placeholder:"amount type",id:"ingredient-amount-type"},model:{value:e.ingredientType,callback:function(t){e.ingredientType=t},expression:"ingredientType"}}),e.ingredientName&&e.ingredientAmount&&e.ingredientType?a("b-button",{on:{click:e.addIngredient}},[e._v("Add Ingredient")]):e._e()],1),e.getIngridientsLength?a("ul",[a("h4",[e._v("Current Ingredients:")]),e._l(e.form.ingredients,(function(t,r){return a("li",{key:r},[a("div",[e._v(" "+e._s(t.name+","+t.amount+t.type)+" "),a("b-button",{staticClass:"ml-2",attrs:{size:"sm"},on:{click:function(t){return e.DeleteIngredient(r)}}},[e._v("X")])],1)])}))],2):e._e(),a("b-form-group",{attrs:{id:"Steps_input",label:"Steps:","label-cols-sm":"3"}},[a("b-form-input",{attrs:{placeholder:"Step Number",type:"number",min:"0",max:"10",id:"step_num"},model:{value:e.stepNumber,callback:function(t){e.stepNumber=t},expression:"stepNumber"}}),a("b-form-input",{attrs:{placeholder:"Step Description",id:"stepDesc"},model:{value:e.stepDesc,callback:function(t){e.stepDesc=t},expression:"stepDesc"}}),e.stepNumber&&e.stepDesc?a("b-button",{on:{click:e.addStep}},[e._v("Add Step")]):e._e()],1),e.getStepsLength?a("ul",[a("h4",[e._v("Steps:")]),e._l(e.form.steps,(function(t,r){return a("li",{key:r},[a("div",[e._v(" "+e._s(t.stepNumber+":"+t.stepDesc)+" "),a("b-button",{staticClass:"ml-2",attrs:{size:"sm"},on:{click:function(t){return e.DeleteStep(r)}}},[e._v("X")])],1)])}))],2):e._e()],1)],1):e._e(),e.$root.store.username?a("b-collapse",{attrs:{"is-nav":""}},[a("b-navbar-nav",{staticClass:"ml-auto my-auto"},[a("b-nav-text",{staticClass:"text-dark"},[e._v(" Hello "+e._s(e.$root.store.username)+" ")])],1),a("b-navbar-nav",{staticClass:"mx-4 my-auto"},[a("b-nav-text",[a("b-button",{attrs:{variant:"danger"},on:{click:e.Logout}},[e._v("Logout")])],1)],1),a("b-dropdown",{staticClass:"m-md-2",attrs:{id:"dropdown-1",text:"Personal Area"}},[a("b-dropdown-item",{staticClass:"text-success",attrs:{to:{name:"favorites"}}},[e._v("Favorite Recipes")]),a("b-dropdown-item",{staticClass:"text-success",attrs:{to:{name:"family"}}},[e._v("Family Recipes")]),a("b-dropdown-item",{staticClass:"text-success",attrs:{to:{name:"personal"}}},[e._v("Personal Recipes")])],1)],1):a("b-collapse",{attrs:{"is-nav":""}},[a("b-navbar-nav",{staticClass:"ml-auto my-auto mr-4 dark"},[a("b-nav-text",{staticClass:"text-dark"},[e._v("Hello Guest")])],1),a("b-navbar-nav",{staticClass:"mx-4 my-auto"},[a("b-button",{attrs:{variant:"success"},on:{click:e.Register}},[e._v("Register")])],1),a("b-navbar-nav",{staticClass:"mx-4 my-auto"},[a("b-button",{attrs:{variant:"success"},on:{click:e.login}},[e._v("Login")])],1)],1)],1)],1)},o=[],c=(a("a434"),a("96cf"),a("1da1")),u=a("2857"),l=a("1947"),d=a("6aac"),m=a("b5ae"),p=a("5a30"),f={name:"NavBar",components:{BButton:l["a"],BModal:d["a"]},data:function(){return{modalShow:!1,form:{recipe_name:"",time:"",Likes:0,isVeget:"",isVegan:"",isGfree:"",portions:0,image:[],intolerance:"",cuisine:"",ingredients:[],steps:[],submitError:void 0},errors:[],options_Bool:[{value:"True",text:"Yes"},{value:"False",text:"No"}],cuisine_options:u["a"],intolerances_options:u["d"],ingredientName:"",ingredientAmount:"",ingredientType:"",stepNumber:"",stepDesc:""}},validations:{form:{recipe_name:{required:m["required"]},time:{required:m["required"]},Likes:{required:m["required"]},isVeget:{required:m["required"]},isVegan:{required:m["required"]},isGfree:{required:m["required"]},portions:{required:m["required"]},intolerance:{required:m["required"]},cuisine:{required:m["required"]},image:{required:m["required"]}}},methods:{Register:function(){this.$router.push({name:"register"})},login:function(){this.$router.push({name:"login"})},validateState:function(e){var t=this.$v.form[e],a=t.$dirty,r=t.$error;return a?!r:null},openModal:function(){this.Reset(),this.modalShow=!this.modalShow},addIngredient:function(){var e={name:this.ingredientName,amount:this.ingredientAmount,type:this.ingredientType};this.form.ingredients.push(e),this.ingredientName="",this.ingredientAmount="",this.ingredientType=""},DeleteIngredient:function(e){this.form.ingredients.splice(e,1)},addStep:function(){var e={stepNumber:this.stepNumber,stepDesc:this.stepDesc};this.form.steps.push(e),this.stepNumber="",this.stepDesc=""},DeleteStep:function(e){this.form.steps.splice(e,1)},Logout:function(){var e=this;this.$root.store.logout(),this.$root.toast("Logout","User logged out successfully","success"),this.$router.push("/")["catch"]((function(){e.$forceUpdate()}))},CreateRecipe:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a,r,i,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$v.form.$touch(),!e.$v.form.$anyError){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,a=new p,a.append("image",e.form.image,"stickers.jpg"),t.next=8,e.axios.post(e.$root.store.store_state.server_domain+"users/createRecipe/uploadimage",a,{withCredentials:!0});case 8:return r=t.sent,i=r.data.imagePath,t.next=12,e.axios.post(e.$root.store.store_state.server_domain+"users/createrecipe",{name:e.form.recipe_name,Time:e.form.time,Likes:e.form.Likes,isVegan:e.form.isVegan,isVeget:e.form.isVeget,isGfree:e.form.isGfree,portions:e.form.portions,intolerances:e.form.intolerance,cuisine:e.form.cuisine,ingredients:e.form.ingredients,steps:e.form.steps,image:i,endpoint:e.$root.store.store_state.server_domain},{withCredentials:!0});case 12:n=t.sent,e.Reset(),s=n.data.recipeid,e.$router.push({name:"recipe",params:{recipeId:s,src:"Server"}}),e.modalShow=!1,t.next=23;break;case 19:t.prev=19,t.t0=t["catch"](3),console.log(t.t0),e.form.submitError=t.t0.response.data.message;case 23:case"end":return t.stop()}}),t,null,[[3,19]])})))()},Reset:function(){var e=this;this.form={recipe_name:"",time:"",Likes:0,isVeget:"",isVegan:"",isGfree:"",portions:"",image:[],intolerance:"",cuisine:"",ingredients:[],steps:[]},this.ingredientName="",this.ingredientAmount="",this.ingredientType="",this.stepNumber="",this.stepDesc="",this.$nextTick((function(){e.$v.$reset()}))}},computed:{getStepsLength:function(){return this.form.steps.length>0},getIngridientsLength:function(){return this.form.ingredients.length>0}}},v=f,g=(a("34ba"),a("2877")),b=Object(g["a"])(v,s,o,!1,null,null,null),h=b.exports,_={name:"App",components:{HeaderBar:h},data:function(){return{data:{userFavorites:[],userPersonal:[],userFamily:[],userVisited:[],userLiked:[]}}},methods:{}},k=_,y=(a("5c0b"),Object(g["a"])(k,i,n,!1,null,null,null)),S=y.exports,x=a("a7fe"),w=a.n(x),I=a("bc3a"),C=a.n(I),R={temp:"",server_domain:"https://eitag-tseytlin.cs.bgu.ac.il/"},$={getUserFavorites:function(e){return 1}},V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main-page"},[a("div",{staticClass:"left-column"},[a("div",{staticClass:"recipe-list"},[a("RecipePreviewList",{staticClass:"RandomRecipes center",attrs:{title:"Random Recipes",endpoint:"recipes/randomrecipes?number=3",purpose:"RANDOM",data:e.data}})],1)]),a("div",{staticClass:"right-column",staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[e.$root.store.username?a("div",[a("LastVisitedVue",{attrs:{data:e.data}})],1):a("div",[a("LoginPage",{attrs:{data:e.data}})],1)])])},L=[],F=a("99d8"),T=a("62cc"),P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"lastvisited"}},[a("RecipeViewList",{attrs:{id:"LastVisited",title:"Last Visited",endpoint:e.endpoint,purpose:"LASTVISITED",data:e.data}})],1)},A=[],q={name:"LastVisited",components:{RecipeViewList:F["a"]},data:function(){return{endpoint:"users/visitedRecipes"}},props:{data:{type:Object,required:!0}}},N=q,E=Object(g["a"])(N,P,A,!1,null,null,null),M=E.exports,G={components:{RecipePreviewList:F["a"],LoginPage:T["default"],LastVisitedVue:M},props:{data:{type:Object,required:!0}}},j=G,B=(a("1dea"),Object(g["a"])(j,V,L,!1,null,"4f0db004",null)),O=B.exports,D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("h1",[e._v("Four Oh Four you didn't")]),a("router-link",{attrs:{to:"/",exact:""}},[e._v("ET Go Home")])],1)},U=[],H={},z=Object(g["a"])(H,D,U,!1,null,null,null),K=z.exports,J=[{path:"/",name:"main",component:O},{path:"/register",name:"register",component:function(){return a.e("chunk-940c063c").then(a.bind(null,"eaff"))}},{path:"/about",name:"about",component:function(){return a.e("chunk-acba138e").then(a.bind(null,"478b"))}},{path:"/login",name:"login",component:function(){return Promise.resolve().then(a.bind(null,"62cc"))}},{path:"/search",name:"search",component:function(){return a.e("chunk-0d3afb33").then(a.bind(null,"37906"))}},{path:"/recipe/:recipeId/:src",name:"recipe",component:function(){return a.e("chunk-07f8605e").then(a.bind(null,"6619"))}},{path:"/favorites",name:"favorites",component:function(){return a.e("chunk-2d0da534").then(a.bind(null,"6ab5"))}},{path:"/family",name:"family",component:function(){return a.e("chunk-2d0d6b8e").then(a.bind(null,"7483"))}},{path:"/personal",name:"personal",component:function(){return a.e("chunk-2d0c06a1").then(a.bind(null,"424a"))}},{path:"*",name:"notFound",component:K}],W=J,Y=a("8c4f"),Z=a("1dce"),X=a.n(Z),Q=(a("f9e3"),a("2dd8"),a("ccac")),ee=a("bdc5"),te=a("e68d"),ae=a("c015"),re=a("1073"),ie=a("cbd0"),ne=a("b1fc"),se=a("7049"),oe=a("a7e2"),ce=a("f9bc"),ue=a("44d4"),le=a("cca8"),de=a("51c2"),me=a("498a");r["default"].use(Y["a"]);var pe=new Y["a"]({routes:W});console.log(r["default"].prototype.$store),[Q["a"],ee["a"],te["a"],ae["a"],re["a"],ie["a"],ne["a"],se["a"],oe["a"],ce["a"],ue["a"],le["a"],de["a"],me["a"]].forEach((function(e){return r["default"].use(e)})),r["default"].use(X.a),C.a.interceptors.request.use((function(e){return e.withCredentials=!0,e}),(function(e){return Promise.reject(e)})),C.a.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)})),r["default"].use(w.a,C.a),r["default"].config.productionTip=!1;var fe={server_domain:"https://eitag-tseytlin.cs.bgu.ac.il",store_state:R,store_actions:$,username:localStorage.username,userId:localStorage.userId,login:function(e,t){localStorage.setItem("username",e),localStorage.setItem("userId",t),this.username=e,this.userId=t,console.log("login",this.username),console.log(t)},logout:function(){console.log("logout"),localStorage.removeItem("username"),sessionStorage.removeItem("lastSearch"),this.username=void 0,localStorage.removeItem("userId")}};new r["default"]({router:pe,data:function(){return{store:fe}},methods:{toast:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.$bvToast.toast("".concat(t),{title:"".concat(e),toaster:"b-toaster-top-center",variant:a,solid:!0,appendToast:r,autoHideDelay:3e3})}},render:function(e){return e(S)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";var r=a("9c0c"),i=a.n(r);i.a},"610b":function(e,t,a){e.exports=a.p+"img/veget-logo.b2d37575.png"},"62cc":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("h1",{staticClass:"title"},[e._v("Login")]),a("b-form",{on:{submit:function(t){return t.preventDefault(),e.onLogin(t)}}},[a("b-form-group",{attrs:{id:"input-group-Username","label-cols-sm":"3",label:"Username:","label-for":"Username"}},[a("b-form-input",{attrs:{id:"Username",type:"text",state:e.validateState("username")},model:{value:e.$v.form.username.$model,callback:function(t){e.$set(e.$v.form.username,"$model",t)},expression:"$v.form.username.$model"}}),a("b-form-invalid-feedback",[e._v(" Username is required ")])],1),a("b-form-group",{attrs:{id:"input-group-Password","label-cols-sm":"3",label:"Password:","label-for":"Password"}},[a("b-form-input",{attrs:{id:"Password",type:"password",state:e.validateState("password")},model:{value:e.$v.form.password.$model,callback:function(t){e.$set(e.$v.form.password,"$model",t)},expression:"$v.form.password.$model"}}),a("b-form-invalid-feedback",[e._v(" Password is required ")])],1),a("b-button",{staticClass:"mx-auto w-100",staticStyle:{width:"100px",display:"block"},attrs:{type:"submit",variant:"success"}},[e._v("Login")]),a("div",{staticClass:"mt-2"},[e._v(" Do not have an account yet? "),a("router-link",{attrs:{to:"register"}},[e._v(" Register in here")])],1)],1),e.form.submitError?a("b-alert",{staticClass:"mt-2",attrs:{variant:"warning",dismissible:"",show:""}},[e._v(" Login failed: "+e._s(e.form.submitError)+" ")]):e._e()],1)},i=[],n=(a("96cf"),a("1da1")),s=a("b5ae"),o={name:"Login",data:function(){return{form:{username:"",password:"",submitError:void 0}}},validations:{form:{username:{required:s["required"]},password:{required:s["required"]}}},methods:{validateState:function(e){var t=this.$v.form[e],a=t.$dirty,r=t.$error;return a?!r:null},getUserFavorites:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.axios.get(t.$root.store.store_state.server_domain+"users/favoriterecipes/".concat(e),{withCredentials:!0});case 2:return r=a.sent,a.abrupt("return",r);case 4:case"end":return a.stop()}}),a)})))()},Login:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.post(e.$root.store.store_state.server_domain+"auth/Login",{username:e.form.username,password:e.form.password},{withCredentials:!0});case 3:return a=t.sent,e.$root.store.login(e.form.username,a.data.session.user_id),t.next=7,e.getUserFavorites(a.data.session.user_id);case 7:r=t.sent,e.data.userFavorites=r.data,t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0.response),e.form.submitError=t.t0.response.data.message;case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))()},onLogin:function(){this.form.submitError=void 0,this.$v.form.$touch(),this.$v.form.$anyError||this.Login()}},props:{data:{type:Object,required:!0}}},c=o,u=(a("55f9"),a("2877")),l=Object(u["a"])(c,r,i,!1,null,"4ef3c59c",null);t["default"]=l.exports},9443:function(e,t,a){"use strict";var r=a("cea2"),i=a.n(r);i.a},"96e0":function(e,t,a){e.exports=a.p+"img/non-veget-logo.06ba81ab.png"},"98d8":function(e,t,a){},"99d8":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",[a("h3",[e._v(" "+e._s(e.title)+": "),"RANDOM"===e.purpose?a("b-button",{attrs:{variant:"info"},on:{click:e.updateRecipes}},[e._v("Refresh Random Recipes")]):e._e(),e._t("default")],2),a("b-card-group",{key:e.getRecipesLen,staticClass:"deck",attrs:{deck:""}},[e._l(e.sortedArray,(function(t){return a("div",{key:t.id,attrs:{deck:""}},[a("RecipePreview",{attrs:{recipe:t,data:e.data}})],1)})),e.getRecipesLen?a("div",{key:e.getRecipesLen},[a("b-card",[a("b-card-text",[e._v(" No Result Has been found yet ")])],1)],1):e._e()],2)],1)},i=[],n=(a("4160"),a("4e82"),a("159b"),a("96cf"),a("1da1")),s=a("2909"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"previewitem"}},[e.checkIfViewd?r("b-card",{staticClass:"mb-2 enlarge-on-hover",staticStyle:{"max-width":"20rem",color:"rgb(139, 22, 139)"},attrs:{title:e.recipe.name,"img-src":e.recipe.image,"img-alt":"Image","img-top":"",tag:"article","border-variant":"dark"}},[r("router-link",{staticClass:"recipe-preview",attrs:{to:{name:"recipe",params:{recipeId:e.recipe.id,src:e.recipe.source}}}},[r("b-card-text",[r("ul",{staticClass:"recipe-overview"},[e.recipe.Time?r("li",[e._v(e._s(e.recipe.Time)+" minutes")]):r("li",[e._v("Unkown Time")]),e.recipe.portions?r("li",[e._v(e._s(e.recipe.portions)+" Portions")]):r("li",[e._v("Unkown Portions")]),e.recipe.isVegan?r("li",{staticClass:"list-item-with-image"},[e._v(" Vegan "),r("img",{attrs:{src:a("2952"),alt:"Image"}})]):r("li",{staticClass:"list-item-with-image"},[e._v(" Non Vegan "),r("img",{attrs:{src:a("32f4"),alt:"Image"}})]),e.recipe.isVeget?r("li",{staticClass:"list-item-with-image"},[e._v(" Veget "),r("img",{attrs:{src:a("610b"),alt:"Image"}})]):r("li",{staticClass:"list-item-with-image"},[e._v(" Non Veget "),r("img",{attrs:{src:a("96e0"),alt:"Image"}})]),e.recipe.isGfree?r("li",{staticClass:"list-item-with-image"},[e._v(" Gluten free "),r("img",{attrs:{src:a("bb49"),alt:"Image"}})]):r("li",{staticClass:"list-item-with-image"},[e._v(" Not-Gluten free "),r("img",{attrs:{src:a("f6fa"),alt:"Image"}})])])]),this.$root.store.username?r("AddToFavoritesBtn",{attrs:{recipe:e.recipe,data:e.data}}):e._e()],1)],1):r("b-card",{staticClass:"mb-2 enlarge-on-hover",staticStyle:{"max-width":"20rem"},attrs:{title:e.recipe.name,"img-src":e.recipe.image,"img-alt":"Image","img-top":"",tag:"article","border-variant":"primary"}},[r("router-link",{staticClass:"recipe-preview",attrs:{to:{name:"recipe",params:{recipeId:e.recipe.id,src:e.recipe.source}}}},[r("b-card-text",[r("ul",{staticClass:"recipe-overview"},[e.recipe.Time?r("li",[e._v("Ready In "+e._s(e.recipe.Time)+" minutes")]):r("li",[e._v("Unkown Time")]),e.recipe.Likes?r("li",[e._v(e._s(e.recipe.Likes)+" likes")]):r("li",[e._v("Unkown Likes")]),e.recipe.portions?r("li",[e._v(e._s(e.recipe.portions)+" Portions")]):r("li",[e._v("Unkown Portions")]),e.recipe.isVegan?r("li",{staticClass:"list-item-with-image"},[e._v(" Vegan "),r("img",{attrs:{src:a("2952"),alt:"Image"}})]):r("li",{staticClass:"list-item-with-image"},[e._v(" Non Vegan "),r("img",{attrs:{src:a("32f4"),alt:"Image"}})]),e.recipe.isVeget?r("li",{staticClass:"list-item-with-image"},[e._v(" Veget "),r("img",{attrs:{src:a("610b"),alt:"Image"}})]):r("li",{staticClass:"list-item-with-image"},[e._v(" Non Veget "),r("img",{attrs:{src:a("96e0"),alt:"Image"}})]),e.recipe.isGfree?r("li",{staticClass:"list-item-with-image"},[e._v(" Gluten free "),r("img",{attrs:{src:a("bb49"),alt:"Image"}})]):r("li",{staticClass:"list-item-with-image"},[e._v(" Not-Gluten free "),r("img",{attrs:{src:a("f6fa"),alt:"Image"}})])])])],1),this.$root.store.username?r("AddToFavoritesBtn",{attrs:{recipe:e.recipe,data:e.data}}):e._e()],1)],1)},c=[],u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"addtofav"}},[e.recipe.isFav?a("b-button",{attrs:{variant:"outline-danger"},on:{click:function(t){return e.removeFromFavorites()}}},[e._v("Remove from Favorites")]):a("b-button",{attrs:{variant:"outline-success"},on:{click:function(t){return e.addToFavorits()}}},[e._v("Add to Favorites")])],1)},l=[],d={name:"FavoritesBTN",data:function(){return{}},methods:{addToFavorits:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.recipe.isFav=!0,t.next=3,e.axios.post(e.$root.store.store_state.server_domain+"users/addFavorite",{source:e.recipe.source,recipeId:e.recipe.id},{withCredentials:!0});case 3:return t.sent,t.next=6,e.axios.get(e.$root.store.store_state.server_domain+"users/favoriterecipes/".concat(e.$root.store.userId),{withCredentials:!0});case 6:a=t.sent,e.data.userFavorites=a.data,e.$forceUpdate();case 9:case"end":return t.stop()}}),t)})))()},removeFromFavorites:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.recipe.isFav=!1,t.next=3,e.axios["delete"](e.$root.store.store_state.server_domain+"users/removeFavoriteRecipe",{data:{user_id:e.$root.store.userId,recipeId:e.recipe.id}},{withCredentials:!0});case 3:return t.sent,t.next=6,e.axios.get(e.$root.store.store_state.server_domain+"users/favoriterecipes/".concat(e.$root.store.userId),{withCredentials:!0});case 6:a=t.sent,e.data.userFavorites=a.data,e.$forceUpdate();case 9:case"end":return t.stop()}}),t)})))()},isFavorite:function(){}},props:{recipe:{type:Object,required:!0},data:{type:Object,required:!0}}},m=d,p=a("2877"),f=Object(p["a"])(m,u,l,!1,null,null,null),v=f.exports,g={components:{AddToFavoritesBtn:v},data:function(){return{image_load:!1,isFav:!1,lastvisited:[]}},props:{recipe:{type:Object,required:!0},data:{type:Object,required:!0}},methods:{addToFavorits:function(){},getIsFavorits:function(){return!1}},computed:{checkIfViewd:function(){return!!localStorage.getItem("username")&&this.recipe.isVisited}}},b=g,h=(a("3ef6"),Object(p["a"])(b,o,c,!1,null,"d3ad26e8",null)),_=h.exports,k={name:"RecipePreviewList",components:{RecipePreview:_},props:{title:{type:String,required:!0},endpoint:{type:String,required:!0},purpose:{type:String,required:!0},data:{type:Object,required:!0},sortBy:{type:String,required:!1,default:"time"}},data:function(){return{recipes:[]}},computed:{sortedArray:function(){return"time"==this.sortBy?Object(s["a"])(this.recipes).sort((function(e,t){return e.Time-t.Time})):Object(s["a"])(this.recipes).sort((function(e,t){return e.Likes-t.Likes}))},getRecipesLen:function(){return 0==this.recipes.length}},methods:{addSourceToRecipe:function(e,t){return e.source=t,e},checkIfInFav:function(e){if(!this.$root.store.username){var t=e;return t.isFav=!1,t}var a=this.data.userFavorites.Server,r=this.data.userFavorites.API;a.forEach((function(t){if(t==e.id)return e.isFav=!0,e})),r.forEach((function(t){if(t==e.id)return e.isFav=!0,e}));var i=e;return i},checkIfInVisited:function(e,t){var a=!1;return e.forEach((function(e){e.recipe_id==t.id&&(a=!0)})),a},updateRecipes:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,r,i,n,s,o,c,u,l,d,m,p,f,v,g,b,h,_,k;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.axios.get(e.$root.store.store_state.server_domain+"users/visitedRecipes?limit=-1",{withCredentials:!0});case 2:if(a=t.sent,"FAM"!=e.purpose){t.next=17;break}return t.prev=4,t.next=7,e.axios.get(e.$root.store.store_state.server_domain+e.endpoint);case 7:r=t.sent,i=r.data,e.data.userFamily=i.data,e.recipes=[],i.data.forEach((function(t){t=e.addSourceToRecipe(t,"Server"),t=e.checkIfInFav(t),t.isVisited=e.checkIfInVisited(a.data.visitedRecipes,t),e.recipes.push(t)})),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](4),console.log(t.t0);case 17:if("SIMPLE"!=e.purpose&&"RANDOM"!=e.purpose){t.next=32;break}return t.prev=18,t.next=21,e.axios.get(e.$root.store.store_state.server_domain+e.endpoint,{withCredentials:!0});case 21:n=t.sent,s=n.data,e.recipes=[],s.forEach((function(t){t=e.addSourceToRecipe(t,"API"),t=e.checkIfInFav(t),t.isVisited=e.checkIfInVisited(a.data.visitedRecipes,t),e.recipes.push(t)})),t.next=30;break;case 27:t.prev=27,t.t1=t["catch"](18),console.log(t.t1);case 30:t.next=82;break;case 32:if("FAV"!=e.purpose){t.next=73;break}t.prev=33,o=[],c=e.data.userFavorites.Server,u=e.data.userFavorites.API,l=0;case 38:if(!(l<c.length)){t.next=51;break}return d=c[l],t.next=42,e.axios.get(e.$root.store.store_state.server_domain+e.endpoint+"".concat(d,"?src=Server"),{withCredentials:!0});case 42:m=t.sent,p=m.data,p.isFav=!0,p=e.addSourceToRecipe(p,"Server"),p.isVisited=e.checkIfInVisited(a.data.visitedRecipes,p),o.push(p);case 48:l++,t.next=38;break;case 51:f=0;case 52:if(!(f<u.length)){t.next=65;break}return v=u[f],t.next=56,e.axios.get(e.$root.store.store_state.server_domain+e.endpoint+"".concat(v,"?src=API"),{withCredentials:!0});case 56:g=t.sent,b=g.data,b.isFav=!0,b=e.addSourceToRecipe(b,"API"),b.isVisited=e.checkIfInVisited(a.data.visitedRecipes,b),o.push(b);case 62:f++,t.next=52;break;case 65:e.recipes=o,t.next=71;break;case 68:t.prev=68,t.t2=t["catch"](33),console.log(t.t2);case 71:t.next=82;break;case 73:if("LASTVISITED"!=e.purpose){t.next=82;break}return t.next=76,e.axios.get(e.$root.store.store_state.server_domain+e.endpoint+"?limit=3",{withCredentials:!0});case 76:h=t.sent,_=h.data.visitedRecipes,k=[],_.API.forEach((function(t){t=e.addSourceToRecipe(t,"API"),t=e.checkIfInFav(t),t.isVisited=e.checkIfInVisited(a.data.visitedRecipes,t),k.push(t)})),_.Server.forEach((function(t){t=e.addSourceToRecipe(t,"Server"),t=e.checkIfInFav(t),t.isVisited=e.checkIfInVisited(a.data.visitedRecipes,t),k.push(t)})),e.recipes=k;case 82:case"end":return t.stop()}}),t,null,[[4,14],[18,27],[33,68]])})))()}},watch:{endpoint:{immediate:!0,handler:function(){this.updateRecipes()}}}},y=k,S=(a("9443"),Object(p["a"])(y,r,i,!1,null,"730bd06e",null));t["a"]=S.exports},"9c0c":function(e,t,a){},a3d5:function(e,t,a){},bb49:function(e,t,a){e.exports=a.p+"img/G-FREE.09e744ee.jpg"},cea2:function(e,t,a){},f6fa:function(e,t,a){e.exports=a.p+"img/NON-G-FREE.1863aecb.jpg"}});
//# sourceMappingURL=app.7dd893e5.js.map